<div class="b-modal-window" role="dialog">
  <div class="b-modal-window__overlay"></div>
  <div class="b-modal-window__main-block b-results-export" focus-modal>
        <div class="b-modal-window__main-block__header">
            <h2 class="b-modal-window__main-block__header--title"
              role="heading">
                {{ 'schedule_export.Schedule_an_Export' | translate }}
            </h2>
             <span class="b-modal-window__main-block__header--icon-close">
              <a class="transparent-button" ui-sref="^" tabindex="1"  title="{{ 'Close_popup' | translate}}">
                <span class="fa fa-times"></span>
              </a>
            </span>
        </div>
        <div class="b-modal-window__main-block__body">
            <form name="exportScheduleForm" id="export-schedule"
                  ng-model="exportScheduleForm"
                  novalidate>
                <div class="b-results-export__export-schedule">
                    <p>{{ 'schedule_export.tip' | translate }}</p>

                    <div class="b-results-export__export-schedule__small-field validation-field">
                        <label class="b-results-export__export-schedule__label" for="from">
                            {{ 'schedule_export.FROM' | translate }}
                        </label>
                        <input type="text" name="from" id="from"
                               class="b-results-export__export-schedule__select-field"
                               tabindex="2"
                               required
                               placeholder="{{today| date: 'dd/MM/yyyy'}}"
                               ng-model="schedule.from">

                        <div errorsblock="errors.from"
                             class="b-results-export__export-schedule__errors"></div>
                    </div>

                    <div class="b-results-export__export-schedule__small-field validation-field">
                        <label class="b-results-export__export-schedule__label" for="to">
                            {{ 'schedule_export.TO' | translate}}
                        </label>
                        <input type="text" name="to" id="to"
                               class=" b-results-export__export-schedule__select-field b-results-export__export-schedule__select-field--long"
                               tabindex="3"
                               required
                               placeholder="{{today| date: 'dd/MM/yyyy'}}"
                               ng-model="schedule.to">

                        <div errorsblock="errors.to"
                             class="b-results-export__export-schedule__errors"></div>
                    </div>

                    <div class="b-results-export__export-schedule__long-field validation-field">
                        <label class="b-results-export__export-schedule__label" for="email">
                          {{ 'schedule_export.EMAIL_TO' | translate }}
                        </label>
                        <input type="email" name="email" required id="email"
                               tabindex="4"
                               class=" b-results-export__export-schedule__select-field"
                               placeholder="user@example.com"
                               ng-model="schedule.email"
                               ng-trim="true"
                               ng-change="errorEmailPattern = false">

                        <div errorsblock="errors.email"
                             class="b-results-export__export-schedule__errors"></div>
                    </div>
                </div>



                <ul class="b-results-export__export-schedule__actual" ng-if="subscriptions.length !== 0">
                    <p class="b-results-export__export-schedule__actual--caption">
                        {{ 'schedule_export.Actual_subscriptions' | translate }}
                    </p>
                    <li ng-repeat="subscription in subscriptions" id={{subscription._id}}
                        class="b-results-export__export-schedule__actual__item">
                        <span class="email b-results-export__export-schedule__actual__item--email" title="{{subscription.email}}">{{subscription.email}}</span>
                        <span class="b-results-export__export-schedule__actual__item--date">{{subscription.from | date: 'dd/MM/yyyy'}}</span>
                        <span class="b-results-export__export-schedule__actual__item--date">{{subscription.to | date: 'dd/MM/yyyy'}}</span>
                        <button class="transparent-button"  ng-click="deleteSubscription(subscription._id, $index)" role="button"
                                tabindex="5"
                                title="Delete Subscription">
                          <span class="fa fa-times b-results-export__export-schedule__actual__item--delete"></span>
                          <span class="button-title">Delete Subscription</span>
                        </button>

                    </li>
                </ul>

                <button value="{{ 'schedule_export.Schedule_this_Export' | translate }}"
                        role="button"
                        tabindex="6"
                        ng-click="createSubscription()"
                        class="b-results-export__export-schedule__export-button">
                    <span class="fa fa-external-link-square"></span>
                    {{ 'schedule_export.Schedule_this_Export' | translate }}

                </button>
            </form>
        </div>
    </div>
</div>
