<div class="b-question-builder__{{question.type}}" ng-if="question.type == 'string'">
  <div class="b-question-builder__input-box">
    <h5 class="b-question-builder__input-box--label">
      <label for="defaultValue">{{ 'survey_builder.DEFAULT_ANSWER' | translate }}</label>
    </h5>
    <input type="text"
           id="defaultValue"
           class="b-question-builder__input-box--input"
           placeholder="{{ 'survey_builder.DEFAULT_ANSWER_placeholder' | translate }}"
           ng-model="question.defaultValue"
           value="{{question.defaultValue}}">
  </div>
  <div class="b-question-builder__input-box">
    <h5 class="b-question-builder__input-box--label">
      <label for="maxLength">{{ 'survey_builder.MAXIMUM_ANSWER_LENGTH' | translate }}</label>
    </h5>
    <input type="text" value="{{question.maxLength}}"
           id="maxLength"
           class="b-question-builder__input-box--input b-question-builder__input-box--input--small"
           validate-pattern
           regexp="maxLengthPattern"
           value-to-check="question.maxLength"
           ng-model="question.maxLength">
    <label class="b-question-builder__input-box--caption">
      {{ 'survey_builder.Symbols' | translate }}
    </label>
  </div>
</div>
<div class="b-question-builder__{{question.type}}" ng-if="question.type == 'note'">
  <div class="b-question-builder__input-box">
    <p class="b-question-builder__input-box--label">
      {{ 'survey_builder.Notes_description' | translate }}
    </p>
        <textarea class="b-question-builder__input-box--textarea"
                  role="textbox"
                  aria-label="{{ 'survey_builder.NOTE_placeholder' | translate }}"
                  type="text" placeholder="{{ 'survey_builder.NOTE_placeholder' | translate }}"
                  ng-model="question.defaultValue"
                  value="{{question.defaultValue}}"></textarea>
  </div>
</div>
<div class="b-question-builder__{{question.type}}" ng-if="question.type == 'time'">
  <div class="b-question-builder__input-box">
    <h5 class="b-question-builder__input-box--label">
      {{ 'survey_builder.DEFAULT_ANSWER' | translate }}
    </h5>
    <time-selector hours="question.defaultValueHH"
                   minutes="question.defaultValueMM"></time-selector>
  </div>
</div>
<div class="b-question-builder__{{question.type}}" ng-if="question.type == 'int'">
  <div class="b-question-builder__input-box">
    <h5 class="b-question-builder__input-box--label">
      <label for="defaultValue">{{'survey_builder.DEFAULT_ANSWER' | translate }}</label>
    </h5>
    <input type="text" id="defaultValue"
           class="b-question-builder__input-box--input"
           placeholder="{{ 'survey_builder.DEFAULT_ANSWER_placeholder' | translate }}"
           value="{{question.defaultValue}}"
           validate-pattern
           regexp="digitsPattern"
           value-to-check="question.defaultValue"
           ng-model="question.defaultValue"
           ng-blur="checkDefaultValue(question)">
  </div>
  <div class="b-question-builder__input-box__error-message" ng-show="question.defaultValueError">
    <span class="fa  fa-exclamation-circle"></span>
    {{ 'survey_builder.defaultValueError' | translate}}
  </div>
  <div class="b-question-builder__input-box">
    <label for="minValue"
           class="g-aria-hide">
      {{ 'survey_builder.MINIMUM_RANGE' | translate }}
    </label>
    <input type="text"
           name="{{ 'survey_builder.MINIMUM_RANGE' | translate }}"
           id="minValue"
           class="b-question-builder__input-box--input b-question-builder__input-box--input--small"
           value="{{question.minValue}}"
           ng-disabled="!question.minChecked"
           validate-pattern
           regexp="digitsPattern"
           value-to-check="question.minValue"
           ng-blur="checkMinMaxValues(question)"
           ng-model="question.minValue">

    <span class="b-question-builder__input-box--caption">
      <button class="transparent-button"
              role="checkbox"
              aria-checked="{{question.minChecked}}"
              ng-click="question.minValueFocus = true; checkMinMaxValues(question, 'minChecked')">

        <span class="fa b-surveys-edit__category__question__header__rules__checkbox--icon"
              ng-class="{'fa-circle-o':!question.minChecked, 'fa-check-circle-o': question.minChecked}"></span>
        <span for="minValue"
              class="b-surveys-edit__category__question__header__rules__checkbox--label">
          {{ 'survey_builder.MINIMUM_RANGE' | translate }}
        </span>

      </button>
    </span>
  </div>
  <div class="b-question-builder__input-box">
        <label for="maxValue" class="g-aria-hide">{{ 'survey_builder.MAXIMUM_RANGE' | translate }}</label>
        <input type="text"
               focus-me="question.maxValueFocus"
               name="{{ 'survey_builder.MAXIMUM_RANGE' | translate }}"
               id="maxValue"
               class="b-question-builder__input-box--input b-question-builder__input-box--input--small"
               value="{{question.maxValue}}"
               ng-disabled="!question.maxChecked"
               validate-pattern
               regexp="digitsPattern"
               value-to-check="question.maxValue"
               ng-blur="checkMinMaxValues(question)"
               ng-model="question.maxValue">

        <span class="b-question-builder__input-box--caption">

          <button class="transparent-button"
                  role="checkbox"
                  aria-checked="{{question.maxChecked}}"
                  ng-click="question.maxValueFocus = true; checkMinMaxValues(question, 'maxChecked')">

            <span class="fa b-surveys-edit__category__question__header__rules__checkbox--icon"
                  ng-class="{'fa-circle-o':!question.maxChecked, 'fa-check-circle-o': question.maxChecked}"></span>
            <span for="maxvalue"
                  class="b-surveys-edit__category__question__header__rules__checkbox--label">
              {{ 'survey_builder.MAXIMUM_RANGE' | translate }}
            </span>

          </button>

        </span>
  </div>
  <div class="b-question-builder__input-box__error-message" ng-show="question.minmaxError">
    <span class="fa  fa-exclamation-circle"></span>
    {{ 'survey_builder.Invalid_min_max_range' | translate }}
  </div>
</div>
<div class="b-question-builder__{{question.type}}" ng-if="question.type == 'decimal'">
  <div class="b-question-builder__input-box">
    <h5 class="b-question-builder__input-box--label">
      <label for="defaultValue">{{ 'survey_builder.DEFAULT_ANSWER' | translate }}</label>
    </h5>
    <input type="text" id="defaultValue"
           class="b-question-builder__input-box--input"
           placeholder="{{ 'survey_builder.DEFAULT_ANSWER_placeholder' | translate }}"
           value="{{question.defaultValue}}"
           validate-pattern
           regexp="decimalPattern"
           value-to-check="question.defaultValue"
           ng-model="question.defaultValue"
           ng-blur="checkDefaultValue(question)">
  </div>
  <div class="b-question-builder__input-box__error-message" ng-show="question.defaultValueError">
    <span class="fa  fa-exclamation-circle"></span>
    {{ 'survey_builder.defaultValueError' | translate}}
  </div>
  <div class="b-question-builder__input-box">
            <label for="minValue"
                   class="g-aria-hide">
              {{ 'survey_builder.MINIMUM_RANGE' | translate }}
            </label>
            <input type="text" id="minValue" name="minValue"  focus-me="question.minValueFocus"
                   class="b-question-builder__input-box--input b-question-builder__input-box--input--small"
                   value="{{question.minValue}}"
                   ng-disabled="!question.minChecked"
                   validate-pattern
                   regexp="decimalPattern"
                   value-to-check="question.minValue"
                   ng-blur="checkMinMaxValues(question)"
                   ng-model="question.minValue">
        <span class="b-question-builder__input-box--caption">
            <button class="transparent-button"
                    role="checkbox"
                    aria-checked="{{question.minChecked}}"
                    ng-click="question.minValueFocus = true; checkMinMaxValues(question, 'minChecked')">
              <span class="fa b-surveys-edit__category__question__header__rules__checkbox--icon"
                    ng-class="{'fa-circle-o':!question.minChecked, 'fa-check-circle-o': question.minChecked}"></span>

              <span class="b-surveys-edit__category__question__header__rules__checkbox--label">
                {{ 'survey_builder.MINIMUM_RANGE' | translate }}
              </span>
            </button>
        </span>

  </div>
  <div class="b-question-builder__input-box">
           <label for="maxValue"
                  class="g-aria-hide">
             {{ 'survey_builder.MAXIMUM_RANGE' | translate }}
           </label>
            <input type="text" id="maxValue" name="maxValue"  focus-me="question.maxValueFocus"
                   class="b-question-builder__input-box--input b-question-builder__input-box--input--small"
                   value="{{question.maxValue}}"
                   ng-disabled="!question.maxChecked"
                   validate-pattern
                   regexp="decimalPattern"
                   value-to-check="question.maxValue"
                   ng-blur="checkMinMaxValues(question)"
                   ng-model="question.maxValue">
        <span class="b-question-builder__input-box--caption">
          <button class="transparent-button"
                  role="checkbox"
                  aria-checked="{{question.maxChecked}}"
                  ng-click="question.maxValueFocus = true; checkMinMaxValues(question, 'maxChecked')">
            <span class="fa b-surveys-edit__category__question__header__rules__checkbox--icon"
                  ng-class="{'fa-circle-o':!question.maxChecked, 'fa-check-circle-o': question.maxChecked}"></span>

            <span class="b-surveys-edit__category__question__header__rules__checkbox--label">
              {{ 'survey_builder.MAXIMUM_RANGE' | translate }}
            </span>
          </button>
        </span>

  </div>
  <div class="b-question-builder__input-box__error-message" ng-show="question.minmaxError">
    <span class="fa  fa-exclamation-circle"></span>
    {{ 'survey_builder.Invalid_min_max_range' | translate }}
  </div>
</div>
<div class="b-question-builder__{{question.type}}" ng-if="question.type == 'date'">
  <div class="b-question-builder__input-box">
    <div class="b-question-builder__input-box--label">
      <label for="defaultDate">{{ 'survey_builder.DEFAULT_ANSWER' | translate }}</label>
    </div>

    <input class="b-question-builder__input-box--input"
           id="defaultDate"
           date-input="question.defaultValue"
           ng-model="question.defaultValue"
           min-range="question.minValue"
           max-range="question.maxValue">

    <p class="b-question-builder__input-box__clear-message" ng-if="question.defaultValue">
      <button ng-click="deleteDefaultDate(question)" class="transparent-button">
        <span class="fa fa-times"></span>
            <span>
                {{ 'survey_builder.Clear_default_field' | translate }}
            </span>
      </button>
    </p>

  </div>
  <div date-range
       min-range="question.minValue"
       max-range="question.maxValue"
       min-checked="question.minChecked"
       max-checked="question.maxChecked"
       with-checkboxes="true"></div>
</div>
<div class="b-question-builder__{{question.type}}" ng-if="question.type == 'select1'">
  <div class="b-question-builder__input-box">
    <div class="rules">
      <button class="b-question-builder__input-box__button"
              role="button"
              ng-click="question.addOption = true; addOptionFocus = true;">
        <span class="fa fa-plus b-question-builder__input-box__button--icon"></span>
                <span class="b-question-builder__input-box__button--label">
                    {{ 'survey_builder.Add_option' | translate }}
                </span>
      </button>
      <div class="b-question-builder__input-box__button"
           ng-click="question.addOption = false">
        <span class="fa fa-download b-question-builder__input-box__button--icon"></span>
                <span class="b-question-builder__input-box__button--label">
                    {{ 'survey_builder.Import_existing_option' | translate }}
                </span>
        <input type="file" csv-options-import question="question"
               aria-label="Select CSV file to import"
               class="b-question-builder__input-box__button--file">
      </div>
    </div>

    <ul class="b-question-builder__variants" role="radiogroup">
      <li class="b-question-builder__variants__item"
          ng-repeat="item in question.items"
          ng-init="item.edit = false;">
        <div ng-if="!item.edit">
          <label class="tooltip" title="{{item.text}}">
            <input type="radio"
                   name="choice"
                   disabled="disabled"
                   class="g-left"
                   role="radio"
                   aria-label="{{item.text}}">
            <span class="b-question-builder__variants__item--label">{{item.text}}</span>
          </label>
          <span class="b-question-builder__variants__item__edit-variants">
            <button class="transparent-button" ng-click="item.edit = true; item.focus = true;"
                    title="{{ 'survey_builder.Edit_option' | translate }}">
              <span class="fa fa-pencil"></span>
              <span class="button-title">{{ 'survey_builder.Edit_option' | translate }}</span>
            </button>
            <button class="transparent-button" ng-click="deleteOption(question, $index)"
                    title="{{ 'survey_builder.Delete_option' | translate }}">
              <span class="fa fa-trash-o"></span>
              <span class="button-title">{{ 'survey_builder.Delete_option' | translate }}</span>
            </button>
          </span>
        </div>
        <div ng-if="item.edit">
          <div focus-me="item.focus">
            <input class="b-question-builder__variants__item__edit-input"
                   type="text" ng-model="item.text"
                   aria-label="Item value"
                   ng-change="item.error = false"
                   ng-keypress="updateOption(question, item, $index, $event)">
          </div>
          <button class="transparent-button"
                  ng-click="updateOption(question, item, $index)">
                    <span class="fa b-question-builder__variants__item__edit-input--icon"
                          ng-class="{'fa-check-circle-o': item.edit}"></span>
          </button>
          <span class="b-question-builder__input-box__error-message" ng-show="item.error">
                  {{ 'survey_builder.Duplicated_option_value' | translate }}
            <span class="button-title"></span>
          </span>
        </div>
      </li>
      <li ng-show="question.addOption" class="b-question-builder__variants__item">
        <div focus-me="addOptionFocus">
          <input type="text" ng-model="newOption.text"
                 aria-label="Item Value"
                 class="b-question-builder__variants__item__edit-input"
                 ng-change="newOption.error = false"
                 ng-keypress="addOption(newOption.text, $event)">

        </div>
        <span class="fa b-question-builder__variants__item__edit-input--icon"
              ng-class="{'fa-check-circle-o': question.addOption}"
              ng-click="addOption(newOption.text)"></span>

        <p class="b-question-builder__input-box__error-message" ng-show="newOption.error">
          {{ 'survey_builder.Duplicated_option_value' | translate }}
        </p>
      </li>
    </ul>
  </div>
</div>
<div class="b-question-builder__{{question.type}}" ng-if="question.type == 'select'">
  <div class="select-question">
    <div class="rules">
      <button class="b-question-builder__input-box__button"
              role="button"
              ng-click="question.addOption = true; addOptionFocus = true;">
        <span class="fa fa-plus b-question-builder__input-box__button--icon"></span>
                <span class="b-question-builder__input-box__button--label">
                    {{ 'survey_builder.Add_option' | translate }}
                </span>
      </button>
      <div class="b-question-builder__input-box__button"
           ng-click="question.addOption = false">
        <span class="fa fa-download b-question-builder__input-box__button--icon"></span>
                <span class="b-question-builder__input-box__button--label">
                    {{ 'survey_builder.Import_existing_option' | translate }}
                </span>
        <input type="file" csv-options-import question="question"
               aria-label="CSV Import Options"
               class="b-question-builder__input-box__button--file">
      </div>
    </div>
    <ul class="b-question-builder__variants">
      <li class="b-question-builder__variants__item"
          ng-repeat="item in question.items"
          ng-init="item.edit = false;">
        <div ng-if="!item.edit">
          <label class="tooltip" title="{{item.text}}">
            <input type="checkbox"
                   name="choice"
                   aria-label="{{item.text}}"
                   disabled="disabled"
                   role="checkbox"
                   class="g-left">
            <span class="b-question-builder__variants__item--label">{{item.text}}</span>
          </label>
            <span class="b-question-builder__variants__item__edit-variants">
              <button class="transparent-button" ng-click="item.edit = true; item.focus = true;"
                      title="{{ 'survey_builder.Edit_option' | translate }}">
                <span class="fa fa-pencil"></span>
                <span class="button-title">{{ 'survey_builder.Edit_option' | translate }}</span>
              </button>
              <button class="transparent-button" ng-click="deleteOption(question, $index)"
                      title="{{ 'survey_builder.Delete_option' | translate }}">
                <span class="fa fa-trash-o"></span>
                <span class="button-title">{{ 'survey_builder.Delete_option' | translate }}</span>
              </button>
            </span>
        </div>
        <div ng-if="item.edit">
          <div focus-me="item.focus">
            <input class="b-question-builder__variants__item__edit-input"
                   type="text" ng-model="item.text"
                   ng-change="item.error = false"
                   ng-keypress="updateOption(question, item, $index, $event)">
          </div>
                    <span class="fa b-question-builder__variants__item__edit-input--icon"
                          ng-class="{'fa-check-circle-o': item.edit}"
                          ng-click="updateOption(question, item, $index)"></span>

                    <span class="b-question-builder__input-box__error-message" ng-show="item.error">
                            {{ 'survey_builder.Duplicated_option_value' | translate }}
                    </span>
        </div>
      </li>
      <li ng-show="question.addOption" class="b-question-builder__variants__item">
        <div focus-me="addOptionFocus">
          <input type="text" ng-model="newOption.text"
                 class="b-question-builder__variants__item__edit-input"
                 ng-change="newOption.error = false"
                 ng-keypress="addOption(newOption.text, $event)">

        </div>
                <span class="fa b-question-builder__variants__item__edit-input--icon"
                      ng-class="{'fa-check-circle-o': question.addOption}"
                      ng-click="addOption(newOption.text)"></span>

        <p class="b-question-builder__input-box__error-message" ng-show="newOption.error">
          {{ 'survey_builder.Duplicated_option_value' | translate }}
        </p>
      </li>
    </ul>
  </div>
</div>
<div class="cascade b-cascade-question" ng-if="question.type == 'cascade1'">
  <div class="b-question-builder__input-box b-cascade-question__cascade-subs">
    <ul class="b-question-builder__variants">
      <li class="b-question-builder__variants__item"
          ng-repeat="item in question.items"
          ng-init="item.edit = false; item.error = false; item.prevText = item.text">
        <div ng-if="!item.edit">
          <input type="radio" name="choice"
                 class="g-left"
                 ng-click="selectOption(item)"
                 ng-checked="question.selectedOption == item.value">

          <span title="{{item.text}}"
                class="b-question-builder__variants__item--label"
                ng-class="{selected : question.selectedOption == item.value }">
              {{item.text}}
          </span>

          <span class="b-question-builder__variants__item__edit-variants">
            <button class="transparent-button" ng-click="item.edit = true; item.focus = true;"
                    title="{{ 'survey_builder.Edit_option' | translate }}">
              <span class="fa fa-pencil"></span>
              <span class="button-title">{{ 'survey_builder.Edit_option' | translate }}</span>
            </button>
            <button class="transparent-button" ng-click="deleteCascadeOption(item)"
                    title="{{ 'survey_builder.Delete_option' | translate }}">
              <span class="fa fa-trash-o"></span>
              <span class="button-title">{{ 'survey_builder.Delete_option' | translate }}</span>
            </button>
          </span>

        </div>
        <div ng-if="item.edit">
          <div focus-me="item.focus">
            <input type="text" ng-model="item.text"
                   class="b-question-builder__variants__item__edit-input"
                   ng-change="item.error = false"
                   ng-keypress="editOption(item, $index, $event)">
          </div>
          <span type="button" class="fa b-question-builder__variants__item__edit-input--icon"
                ng-class="{'fa-check-circle-o': item.edit}"
                ng-click="editOption(item, $index)"></span>
          <span class="caption error" ng-show="item.error">
                  {{ 'survey_builder.Duplicated_option_value' | translate }}
          </span>
        </div>
      </li>
      <li ng-show="question.addOption" class="b-question-builder__variants__item">
        <div focus-me="addOptionFocus">
          <input type="text" ng-model="newOption.text"
                 class="b-question-builder__variants__item__edit-input"
                 ng-change="newOption.error = false"
                 ng-keypress="addOption(newOption.text, $event)">
        </div>
        <span type="button" class="fa b-question-builder__variants__item__edit-input--icon"
              ng-class="{'fa-check-circle-o': question.addOption}"
              ng-click="addOption(newOption.text)"></span>

        <span class="b-question-builder__input-box__error-message" ng-show="newOption.error">
                {{ 'survey_builder.Duplicated_option_value' | translate }}
        </span>
      </li>
    </ul>

    <div class="b-cascade-question__rules">
      <button class="b-question-builder__input-box__button"
              role="button"
              ng-click="question.addOption = true; addOptionFocus = true;">
        <span class="fa fa-plus b-question-builder__input-box__button--icon"></span>
          <span class="b-question-builder__input-box__button--label">
              {{ 'survey_builder.Add_option' | translate }}
          </span>
      </button>
      <div class="b-question-builder__input-box__button"
           ng-click="question.addOption = false">
        <span class="fa fa-download b-question-builder__input-box__button--icon"></span>
          <span class="b-question-builder__input-box__button--label">
              {{ 'survey_builder.Import_existing_option' | translate }}
          </span>
        <input type="file" csv-options-import question="question"
               aria-label="Select CSV file to import"
               class="b-question-builder__input-box__button--file">
      </div>
    </div>
  </div>
  <div class="cascade2-tmpl"></div>
</div>
